<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Shift Fuzzer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/ribbon.css" rel="stylesheet">
    <link href="css/css.css" rel="stylesheet">
    <link href="css/demo.css" rel="stylesheet">

    <link href="http://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css"/>

    <!-- highlight.js -->
    <link href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/magula.min.css" rel="stylesheet"/>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- ui-treeview web component -->
    <script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>
    <link rel="import" href="bower_components/polymer/polymer.html"/>
    <link rel="import" href="bower_components/ui-treeview/ui-treeview.html"/>
    <link href="css/ui-treeview.css" rel="stylesheet">

    <!-- ace editor -->
    <script src="bower_components/ace-builds/src-min/ace.js"></script>
    <script src="bower_components/ace-builds/src-min/mode-javascript.js"></script>
    <script src="bower_components/ace-builds/src-min/theme-monokai.js"></script>

    <script src="js/shift-fuzzer.js"></script>
    <script src="js/shift-codegen.js"></script>
    <script src="js/shift-parser.js"></script>
    <script src="js/shift-validator.js"></script>

    <style>
      #demo1 {
        position: relative;
      }
      #demo1 .editor {
        width: 100%;
      }
      #demo1 .actions a {
        text-decoration: none;
        color: inherit;
      }
      #demo1 .actions {
        position: absolute;
        z-index: 5;
        top: 0;
        right: 0;
        padding: 1em;
      }
      #demo1 .actions .generate-button {
        margin: 0 0.5em;
      }
      #demo1 .actions .send-to-parser {
        font-weight: bold;
        font-size: 14pt;
      }
    </style>
  </head>

  <body>
    <div class="ribbon-container right">
      <div class="ribbon">
        <a href="https://github.com/shapesecurity/shift-fuzzer-js" target="_blank">Fork me on GitHub</a>
      </div>
    </div>

    <div class="container">
      <div class="content">

        <div class="masthead">
          <h3><a href="./index.html" class="muted hub-link">part of the Shift suite</a></h3>
        </div>

        <div class="jumbotron">
          <h1><span class="shift">Shift</span> Fuzzer</h1>
          <p class="lead">
            generates random valid Shift ASTs
          </p>
        </div>

        <hr />

        <section id="introduction">
          <h3>Introduction</h3>

          <p>
          The Shift Fuzzer generates a random, <a href="validator.html">valid</a>
          Shift AST, and may generate any JavaScript program up to a given
          complexity (AST depth) with a non-zero probability. Additional APIs
          exist for generating only certain node types and for integrating a
          custom pseudo-random number generator for deterministic and
          reproducible fuzzing.
          </p>
        </section>

        <section id="demo">
          <h3>Demo</h3>

          <p>
            This demo uses the fuzzer to generate a random Shift AST and
            renders it using the Shift Code Generator. Press the "Generate!"
            button in the upper right corner of the demo to generate another
            program. If the fuzzer finds a program that cannot be parsed, you
            will be prompted to open an issue on GitHub because at least one of
            the fuzzer, the code generator, or the parser will have a bug.
          </p>

          <div class="demo" id="demo1">
            <p class="actions">
              <button class="btn btn-lg send-to-parser" type="button" title="Want to learn more about this program? Send it to the parser demo."></button>
              <button class="btn btn-primary btn-lg generate-button" type="button" id="generate-btn">Generate!</button>
            </p>

            <div class="editor" spellcheck="false"></div>
          </div>
          <script src="js/fuzzer/main.js"></script>
        </section>

        <section id="installation">
          <h3>Installation</h3>

          <pre><code class="nohighlight">npm install shift-fuzzer</code></pre>
        </section>

        <section id="usage">
          <h3>Usage</h3>

          <pre><code class="javascript">import fuzzProgram, {FuzzerState, fuzzFunctionDeclaration} from "shift-fuzzer";
import render from "shift-codegen";
 
// generate random program 
let randomProgramAst = fuzzProgram();
let randomProgram = render(randomProgramAst);
console.log(randomProgram);
 
// generate random FunctionDeclaration 
let randomFunctionAst = fuzzFunctionDeclaration(new FuzzerState({maxDepth: 7}));
let randomFunction = render(randomFunctionAst);
console.log(randomFunction);
 
// generate random program from a seed 
const RNG_SEED = 0xBADBE1BE1;
let prng =
  (function(state){
    return function nextDouble() {
      // implementation left as an exercise for the reader 
    };
  }(RNG_SEED));
let seededRandomProgramAst = fuzzProgram(new FuzzerState({rng: prng, maxDepth: 7}));
let seededRandomProgram = render(seededRandomProgramAst);
console.log(seededRandomProgram);</code></pre>
        </section>

      </div>

      <hr />

      <div class="footer">
        <p>&copy; 2016 Shape Security, Inc.</p>
      </div>

    </div>

  </body>
</html>
